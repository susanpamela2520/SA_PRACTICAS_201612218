syntax = "proto3";

package catalog;

// Servicio de Catálogo de Restaurantes
service CatalogService {
  // Valida que los productos existan, pertenezcan al restaurante y estén disponibles
  rpc ValidateProducts (ValidationRequest) returns (ValidationResponse);
}

// Solicitud de validación con lista de productos
message ValidationRequest {
  int32 restaurant_id = 1;
  repeated ProductItem products = 2;
}

// Item de producto a validar
message ProductItem {
  int32 product_id = 1;
  double expected_price = 2;
  int32 quantity = 3;
}

// Respuesta de validación
message ValidationResponse {
  bool valid = 1;
  string message = 2;
  repeated string errors = 3;  // Lista de errores específicos si hay problemas
}
